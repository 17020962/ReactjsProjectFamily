{"ast":null,"code":"import _objectSpread from \"/media/tran/TaiLieu/ReactJS/family-blog/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"/media/tran/TaiLieu/ReactJS/family-blog/src/context.js\";\nimport React, { Component } from 'react';\nimport items from './data';\nconst NewsContext = React.createContext();\n\nclass NewsProvider extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      news: [],\n      featureNews: [],\n      lastNews: []\n    };\n\n    this.getNews = id => {\n      let tempNews = [...this.state.news];\n      let news = tempNews.find(item => {\n        return item.slug === id;\n      });\n      return tempNews;\n    };\n  }\n\n  componentDidMount() {\n    let news = this.formatData(items);\n    let featureNews = news.filter((newsItem, index) => {\n      return index <= 3 && index >= 1;\n    });\n    let length = news.length;\n    let lastNews = news.filter((newsItem, index) => {\n      return index >= length - 4;\n    });\n    this.setState({\n      news: news,\n      featureNews: featureNews,\n      lastNews: lastNews\n    });\n  }\n\n  formatData() {\n    let tempItems = items.map(item => {\n      let id = item.sys.id;\n      let images = item.images.map(image => {\n        return image.url;\n      });\n\n      let news = _objectSpread({}, item.fields, {\n        images,\n        id\n      });\n\n      return news;\n    });\n    return tempItems;\n  }\n\n  render() {\n    return React.createElement(NewsContext.Provider, {\n      value: _objectSpread({}, this.state, {\n        getNews: this.getNews\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, this.props.children);\n  }\n\n}\n\nconst NewConsummer = NewsContext.Consumer;\nexport { NewsProvider, NewsContext, NewConsummer };","map":{"version":3,"sources":["/media/tran/TaiLieu/ReactJS/family-blog/src/context.js"],"names":["React","Component","items","NewsContext","createContext","NewsProvider","state","news","featureNews","lastNews","getNews","id","tempNews","find","item","slug","componentDidMount","formatData","filter","newsItem","index","length","setState","tempItems","map","sys","images","image","url","fields","render","props","children","NewConsummer","Consumer"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,QAAlB;AAEA,MAAMC,WAAW,GAAGH,KAAK,CAACI,aAAN,EAApB;;AAEA,MAAMC,YAAN,SAA2BJ,SAA3B,CAAqC;AAAA;AAAA;AAAA,SAEjCK,KAFiC,GAEzB;AACJC,MAAAA,IAAI,EAAE,EADF;AAEJC,MAAAA,WAAW,EAAE,EAFT;AAGJC,MAAAA,QAAQ,EAAE;AAHN,KAFyB;;AAAA,SAuCjCC,OAvCiC,GAuCtBC,EAAD,IAAQ;AACd,UAAIC,QAAQ,GAAG,CAAC,GAAG,KAAKN,KAAL,CAAWC,IAAf,CAAf;AACA,UAAIA,IAAI,GAAGK,QAAQ,CAACC,IAAT,CAAeC,IAAD,IAAQ;AAC7B,eAAOA,IAAI,CAACC,IAAL,KAAcJ,EAArB;AACH,OAFU,CAAX;AAGA,aAAOC,QAAP;AACH,KA7CgC;AAAA;;AAQjCI,EAAAA,iBAAiB,GAAG;AAChB,QAAIT,IAAI,GAAG,KAAKU,UAAL,CAAgBf,KAAhB,CAAX;AACA,QAAIM,WAAW,GAAGD,IAAI,CAACW,MAAL,CAAY,CAACC,QAAD,EAAWC,KAAX,KAAqB;AAC/C,aAAOA,KAAK,IAAI,CAAT,IAAcA,KAAK,IAAI,CAA9B;AACH,KAFiB,CAAlB;AAGA,QAAIC,MAAM,GAAGd,IAAI,CAACc,MAAlB;AAEA,QAAIZ,QAAQ,GAAGF,IAAI,CAACW,MAAL,CAAY,CAACC,QAAD,EAAWC,KAAX,KAAqB;AAC5C,aAAOA,KAAK,IAAKC,MAAM,GAAG,CAA1B;AACH,KAFc,CAAf;AAIA,SAAKC,QAAL,CAAc;AACVf,MAAAA,IAAI,EAAEA,IADI;AAEVC,MAAAA,WAAW,EAAEA,WAFH;AAGVC,MAAAA,QAAQ,EAAEA;AAHA,KAAd;AAMH;;AAEDQ,EAAAA,UAAU,GAAG;AACT,QAAIM,SAAS,GAAGrB,KAAK,CAACsB,GAAN,CAAUV,IAAI,IAAI;AAC9B,UAAIH,EAAE,GAAGG,IAAI,CAACW,GAAL,CAASd,EAAlB;AACA,UAAIe,MAAM,GAAGZ,IAAI,CAACY,MAAL,CAAYF,GAAZ,CAAgBG,KAAK,IAAI;AAClC,eAAOA,KAAK,CAACC,GAAb;AACH,OAFY,CAAb;;AAGA,UAAIrB,IAAI,qBAAQO,IAAI,CAACe,MAAb;AAAqBH,QAAAA,MAArB;AAA6Bf,QAAAA;AAA7B,QAAR;;AACA,aAAOJ,IAAP;AACH,KAPe,CAAhB;AAQA,WAAOgB,SAAP;AACH;;AAUDO,EAAAA,MAAM,GAAG;AACL,WACI,oBAAC,WAAD,CAAa,QAAb;AACI,MAAA,KAAK,oBACE,KAAKxB,KADP;AAEDI,QAAAA,OAAO,EAAE,KAAKA;AAFb,QADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAMK,KAAKqB,KAAL,CAAWC,QANhB,CADJ;AAUH;;AA1DgC;;AA6DrC,MAAMC,YAAY,GAAG9B,WAAW,CAAC+B,QAAjC;AAGA,SAAS7B,YAAT,EAAuBF,WAAvB,EAAoC8B,YAApC","sourcesContent":["import React, { Component } from 'react';\nimport items from './data';\n\nconst NewsContext = React.createContext();\n\nclass NewsProvider extends Component {\n\n    state = {\n        news: [],\n        featureNews: [],\n        lastNews: [],\n    }\n\n    componentDidMount() {\n        let news = this.formatData(items);\n        let featureNews = news.filter((newsItem, index) => {\n            return index <= 3 && index >= 1;\n        });\n        let length = news.length;\n\n        let lastNews = news.filter((newsItem, index) => {\n            return index >= (length - 4);\n        });\n\n        this.setState({\n            news: news,\n            featureNews: featureNews,\n            lastNews: lastNews\n        });\n\n    }\n\n    formatData() {\n        let tempItems = items.map(item => {\n            let id = item.sys.id;\n            let images = item.images.map(image => {\n                return image.url;\n            });\n            let news = { ...item.fields, images, id };\n            return news;\n        })\n        return tempItems;\n    }\n\n    getNews = (id) => {\n        let tempNews = [...this.state.news];\n        let news = tempNews.find((item)=>{\n            return item.slug === id\n        });\n        return tempNews;\n    }\n\n    render() {\n        return (\n            <NewsContext.Provider\n                value={{\n                    ...this.state,\n                    getNews: this.getNews\n                }}\n            >\n                {this.props.children}\n            </NewsContext.Provider>\n        )\n    }\n}\n\nconst NewConsummer = NewsContext.Consumer;\n\n\nexport { NewsProvider, NewsContext, NewConsummer };\n"]},"metadata":{},"sourceType":"module"}